---
title: "리피터와 허브의 구조"
weight: 11
---

# 리피터와 허브의 구조

## 1. 물리 계층 장비 개요

### 물리 계층 장비란?
- OSI 7계층 중 **1계층 (물리 계층)**에서 동작하는 네트워크 장비
- 전기 신호를 다루는 장비
- 데이터의 내용을 해석하지 않음

### 물리 계층 장비의 분류
```
┌─────────────────────────────────────────────────────────────┐
│                    물리 계층 장비                            │
├───────────────────────────┬─────────────────────────────────┤
│          리피터            │             허브                 │
├───────────────────────────┼─────────────────────────────────┤
│ • 1:1 연결                 │ • 다중 포트 (4, 8, 16, 24포트)  │
│ • 신호 증폭/재생           │ • 다중 장비 연결                 │
│ • 전송 거리 연장           │ • 신호 증폭 + 분배               │
│ • 현재 거의 사용 안 함     │ • 스위치로 대체됨                │
└───────────────────────────┴─────────────────────────────────┘
```

---

## 2. 리피터 (Repeater)

### 리피터란?
- 물리 계층에서 동작하는 **네트워크 중계 장비**
- 전기 신호를 **정형(복원)**하고 **증폭**하는 기능
- 통신하는 상대방이 멀리 있을 때 사이에 배치

### 리피터가 필요한 이유 - 신호 감쇄

```
전송 거리에 따른 신호 감쇄:

송신측                                                    수신측
┌──┐  ┌──┐                                            ┌─┐ ┌─┐
│  │  │  │     신호가 약해짐                           │ │ │ │
│  │  │  │  ────────────────→                        │ │ │ │
└──┘  └──┘                                            └─┘ └─┘
  강한 신호                                             약한 신호

                    ↓ 신호가 너무 약해지면

                 ╔═══════════════════════════╗
                 ║  데이터 손실 / 오류 발생   ║
                 ╚═══════════════════════════╝
```

### 케이블 최대 전송 거리
| 케이블 종류 | 최대 거리 | 이유 |
|-------------|-----------|------|
| UTP (Cat5e/Cat6) | 100m | 전기 신호 감쇄 |
| 동축 케이블 (10BASE2) | 185m | 저항으로 인한 손실 |
| 동축 케이블 (10BASE5) | 500m | 두꺼운 케이블로 손실 적음 |
| 광케이블 (SMF) | 수십 km | 빛 신호 사용 |

### 리피터의 동작 원리

```
리피터 동작 과정:

[PC A] ═══════ 100m ═══════ [리피터] ═══════ 100m ═══════ [PC B]

1단계: 약해진 신호 수신
─────────────────────
    ┌─┐ ┌─┐
    │ │ │ │  약한 신호 →  [리피터]
    └─┘ └─┘

2단계: 신호 정형 (일그러진 파형 복원)
─────────────────────────────────────
    ┌─╮ ╭─┐           ┌──┐  ┌──┐
    │ ╰─╯ │    →      │  │  │  │
    └─────┘           └──┘  └──┘
   일그러진 신호        복원된 신호

3단계: 신호 증폭 및 재전송
─────────────────────────
    ┌──┐  ┌──┐
    │  │  │  │  강한 신호 →  [PC B]
    └──┘  └──┘
```

### 리피터 구조

```
┌─────────────────────────────────────────────────────────────┐
│                        리피터                                │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │   ┌───────────┐    ┌───────────┐    ┌───────────┐  │   │
│  │   │  수신부    │    │  증폭회로  │    │  송신부   │  │   │
│  │   │(Receiver) │ →  │(Amplifier)│ →  │(Transmit) │  │   │
│  │   └───────────┘    └───────────┘    └───────────┘  │   │
│  │        ↑                                   │        │   │
│  │   ┌────┴────┐                         ┌────┴────┐  │   │
│  │   │  포트 1  │                         │  포트 2  │  │   │
│  │   │  (IN)   │                         │  (OUT)  │  │   │
│  │   └─────────┘                         └─────────┘  │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│     [케이블] ←──────────────────────────→ [케이블]          │
└─────────────────────────────────────────────────────────────┘
```

### 리피터의 특징
| 특징 | 설명 |
|------|------|
| 동작 계층 | 물리 계층 (1계층) |
| 연결 방식 | 1:1 (포트 2개) |
| 기능 | 신호 증폭, 정형 |
| 주소 인식 | 불가 (MAC/IP 모름) |
| 데이터 해석 | 불가 |
| 현재 사용 | 거의 사용 안 함 |

### 리피터 사용 예시

```
리피터를 이용한 전송 거리 확장:

[서버룸] ══ 100m ══ [리피터] ══ 100m ══ [사무실 1]
                                           │
                                    [리피터] ══ 100m ══ [사무실 2]

※ 리피터는 최대 4개까지 연결 가능 (5-4-3 규칙)
   - 5개 세그먼트
   - 4개 리피터
   - 3개 세그먼트에만 호스트 연결 가능
```

---

## 3. 허브 (Hub)

### 허브란?
- 물리 계층에서 동작하는 네트워크 장비
- **포트를 여러 개** 가진 장비 (보통 4, 8, 16, 24포트)
- **리피터 허브(Repeater Hub)**라고도 불림
- 리피터 기능 + 다중 포트 = 여러 대의 컴퓨터 연결 가능

### 허브의 구조

```
┌─────────────────────────────────────────────────────────────┐
│                          허브 (HUB)                          │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │   ┌─────────────────────────────────────────────┐  │   │
│  │   │              공유 버스 (백플레인)             │  │   │
│  │   └─────────────────────────────────────────────┘  │   │
│  │     ↑      ↑      ↑      ↑      ↑      ↑      ↑   │   │
│  │   ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐ │   │
│  │   │ 1 │  │ 2 │  │ 3 │  │ 4 │  │ 5 │  │ 6 │  │ 7 │ │   │
│  │   └─┬─┘  └─┬─┘  └─┬─┘  └─┬─┘  └─┬─┘  └─┬─┘  └─┬─┘ │   │
│  │     │      │      │      │      │      │      │   │   │
│  │   ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐  ┌─┴─┐ │   │
│  │   │RJ │  │RJ │  │RJ │  │RJ │  │RJ │  │RJ │  │RJ │ │   │
│  │   │45 │  │45 │  │45 │  │45 │  │45 │  │45 │  │45 │ │   │
│  │   └───┘  └───┘  └───┘  └───┘  └───┘  └───┘  └───┘ │   │
│  │                                                     │   │
│  │   [LED 표시등: 링크/활동 상태]                       │   │
│  │   ● ● ● ● ● ● ●                                    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│   전원    업링크                                            │
│   [PWR]   [UPLINK]                                          │
└─────────────────────────────────────────────────────────────┘
```

### 허브의 동작 원리 - 플러딩 (Flooding)

```
허브의 데이터 전송 방식:

PC-A가 PC-C에게 데이터를 보내려고 할 때:

          ┌──────────────────────────┐
          │          HUB             │
          │  ┌────────────────────┐ │
          │  │    공유 버스       │ │
          │  └────────────────────┘ │
          │    ↑    ↑    ↑    ↑    │
          └────┼────┼────┼────┼────┘
               │    │    │    │
             [PC-A][PC-B][PC-C][PC-D]
               │
            데이터 전송
              "PC-C에게"

결과:
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  PC-A → HUB                                                 │
│                                                             │
│  HUB는 받은 데이터를 모든 포트로 전송 (플러딩)               │
│                                                             │
│  PC-B: "나한테 온 게 아니네" → 무시 (폐기)                  │
│  PC-C: "나한테 온 거다!" → 수신                             │
│  PC-D: "나한테 온 게 아니네" → 무시 (폐기)                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 더미 허브 (Dummy Hub)

```
┌─────────────────────────────────────────────────────────────┐
│                    왜 "더미 허브"인가?                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  허브는 "스스로 판단하지 않는다"                             │
│                                                             │
│  ✗ 목적지 주소를 확인하지 않음                               │
│  ✗ MAC 주소를 학습하지 않음                                 │
│  ✗ 어디로 보내야 할지 모름                                   │
│                                                             │
│  → 그래서 모든 포트에 데이터를 전송                          │
│  → "멍청한(Dummy)" 장비라는 의미                            │
│                                                             │
│  ※ 이 문제를 해결한 장비가 "스위치(Switch)"                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. 콜리전 도메인 (Collision Domain)

### 콜리전(충돌)이란?
- 두 개 이상의 장비가 **동시에 데이터를 전송**할 때 발생
- 전기 신호가 **서로 겹쳐서 깨지는 현상**

### 콜리전 발생 과정

```
콜리전 발생 시나리오:

시점 1: PC-A와 PC-C가 동시에 전송 시작
─────────────────────────────────────────
    [PC-A] ─────→    ←───── [PC-C]
              데이터     데이터

시점 2: 허브 내부에서 신호 충돌
─────────────────────────────────────────
         ┌──────────────┐
         │     HUB      │
         │              │
         │   ╳ 충돌! ╳   │
         │              │
         └──────────────┘

시점 3: 깨진 신호 전파
─────────────────────────────────────────
    [PC-A]   [PC-B]   [PC-C]   [PC-D]
       ↓        ↓        ↓        ↓
     ~~~~    ~~~~    ~~~~    ~~~~
         (깨진 신호 = JAM 신호)

시점 4: 모든 PC가 콜리전 감지 → 재전송 대기
```

### 콜리전 도메인

```
허브 환경의 콜리전 도메인:

┌─────────────────────────────────────────────────────────────┐
│                  하나의 콜리전 도메인                         │
│                                                             │
│                    ┌─────────┐                              │
│         ┌─────────┤   HUB   ├─────────┐                    │
│         │         └────┬────┘         │                    │
│         │              │              │                    │
│      [PC-A]         [PC-B]         [PC-C]                  │
│                                                             │
│   ※ 허브에 연결된 모든 장비가 하나의 콜리전 도메인을 공유     │
│   ※ 한 번에 하나의 장비만 전송 가능                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘

스위치 환경의 콜리전 도메인:

┌───────┐   ┌───────┐   ┌───────┐
│ 도메인│   │ 도메인│   │ 도메인│
│   1   │   │   2   │   │   3   │
│[PC-A] │   │[PC-B] │   │[PC-C] │
└───┬───┘   └───┬───┘   └───┬───┘
    │           │           │
    └─────────┬─┴───────────┘
         ┌────┴────┐
         │ SWITCH  │
         └─────────┘

※ 스위치는 각 포트가 독립된 콜리전 도메인
※ 동시에 여러 장비가 전송 가능
```

### CSMA/CD (Carrier Sense Multiple Access / Collision Detection)

```
CSMA/CD 동작 과정:

1단계: 캐리어 감지 (Carrier Sense)
──────────────────────────────────
   "다른 사람이 통신 중인가?"

   [PC-A] ─── 케이블 상태 확인 ───
              │
              ├─ 신호 있음 → 대기
              └─ 신호 없음 → 전송 시작

2단계: 다중 접속 (Multiple Access)
──────────────────────────────────
   "누구나 전송할 수 있다"

   케이블이 비어 있으면 바로 전송

3단계: 충돌 감지 (Collision Detection)
──────────────────────────────────
   "전송 중 충돌이 발생했는가?"

   [PC-A] 전송 중...
              │
              ├─ 충돌 감지 → JAM 신호 전송
              │              → 랜덤 시간 대기
              │              → 재전송
              └─ 충돌 없음 → 전송 완료
```

---

## 5. 반이중 vs 전이중 통신

### 통신 방식 비교

```
반이중 (Half Duplex) - 허브 환경:
─────────────────────────────────
   [PC-A] ←────── 또는 ──────→ [PC-B]

   • 한 번에 한 방향만 통신
   • 워키토키처럼 동작
   • 충돌 발생 가능

전이중 (Full Duplex) - 스위치 환경:
─────────────────────────────────
   [PC-A] ←────────────────────→ [PC-B]
          ←────────────────────→

   • 동시에 양방향 통신
   • 전화처럼 동작
   • 충돌 없음 (별도 회선)
```

### 속도 비교
| 항목 | 반이중 (허브) | 전이중 (스위치) |
|------|--------------|----------------|
| 100Mbps 기준 | 실효 50Mbps | 실효 100Mbps |
| 동시 통신 | 불가 | 가능 |
| 충돌 | 발생 | 없음 |
| CSMA/CD | 필요 | 불필요 |
| 대역폭 활용 | 낮음 | 높음 |

---

## 6. 허브 vs 스위치 비교

### 상세 비교

| 항목 | 허브 (Hub) | 스위치 (Switch) |
|------|------------|-----------------|
| 동작 계층 | 물리 계층 (1계층) | 데이터링크 계층 (2계층) |
| 데이터 전송 | 모든 포트 (플러딩) | 목적지 포트만 |
| MAC 주소 학습 | 불가 | 가능 (MAC 테이블) |
| 콜리전 도메인 | 전체가 하나 | 포트별로 분리 |
| 통신 방식 | 반이중 | 전이중 |
| 대역폭 | 공유 | 포트별 독립 |
| 성능 | 낮음 | 높음 |
| 가격 | 저렴 | 비쌈 |
| 현재 사용 | 거의 없음 | 일반적 |

### 대역폭 비교 예시

```
허브: 대역폭 공유
─────────────────────────────────────────────
   100Mbps 허브에 4대 연결

     ┌────────────────────────────┐
     │   100Mbps 공유 대역폭       │
     └──┬─────┬─────┬─────┬──────┘
        │     │     │     │
      [PC1] [PC2] [PC3] [PC4]
      25Mbps 25Mbps 25Mbps 25Mbps (나눠서 사용)

스위치: 대역폭 독립
─────────────────────────────────────────────
   100Mbps 스위치에 4대 연결

     ┌────────────────────────────┐
     │        스위치              │
     └──┬─────┬─────┬─────┬──────┘
        │     │     │     │
      [PC1] [PC2] [PC3] [PC4]
     100Mbps 100Mbps 100Mbps 100Mbps (각각 독립)
```

---

## 7. Auto MDI-X

### MDI와 MDI-X

```
┌─────────────────────────────────────────────────────────────┐
│                   MDI vs MDI-X                              │
├──────────────────────────┬──────────────────────────────────┤
│   MDI (Media Dependent   │  MDI-X (Media Dependent         │
│   Interface)             │  Interface Crossover)           │
├──────────────────────────┼──────────────────────────────────┤
│  • 컴퓨터                 │  • 스위치                        │
│  • 라우터                 │  • 허브                          │
│  • 서버                   │                                 │
├──────────────────────────┼──────────────────────────────────┤
│  TX (송신): 1, 2번 핀     │  TX (송신): 3, 6번 핀           │
│  RX (수신): 3, 6번 핀     │  RX (수신): 1, 2번 핀           │
└──────────────────────────┴──────────────────────────────────┘
```

### 케이블 선택 규칙 (Auto MDI-X 이전)

```
다이렉트 케이블 사용:
─────────────────────────
[MDI 장비] ═══ 다이렉트 ═══ [MDI-X 장비]

예시:
[컴퓨터] ══════════════════ [스위치/허브]
[라우터] ══════════════════ [스위치/허브]

크로스 케이블 사용:
─────────────────────────
[MDI 장비] ═══ 크로스 ═══ [MDI 장비]
[MDI-X 장비] ═══ 크로스 ═══ [MDI-X 장비]

예시:
[컴퓨터] ══════════════════ [컴퓨터]
[스위치] ══════════════════ [스위치]
[허브] ════════════════════ [허브]
```

### Auto MDI-X란?

```
┌─────────────────────────────────────────────────────────────┐
│        Auto MDI-X (Auto Medium-Dependent Interface          │
│                    Crossover)                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  • 다이렉트 케이블과 크로스 케이블을 자동으로 판단하는 기능   │
│                                                             │
│  • MDI와 MDI-X 차이를 자동으로 감지                          │
│                                                             │
│  • 연결 신호를 자동으로 전환                                 │
│                                                             │
│  • 케이블 배선 실수로 인한 통신 문제 해결                     │
│                                                             │
│  • 대부분의 기가비트 이상 장비에서 지원                       │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  결론: 현대 장비에서는 케이블 종류를 고려하지 않아도 됨       │
│       (다이렉트 케이블만 사용해도 OK)                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 8. 실제 네트워크에서의 위치

### 네트워크 구성도

```
인터넷 연결 구성 (과거):

                    [인터넷]
                        │
                   [라우터]
                        │
                   ┌────┴────┐
                   │   허브   │
                   └────┬────┘
            ┌──────┬────┼────┬──────┐
            │      │    │    │      │
         [PC1]  [PC2] [PC3] [PC4]  [프린터]


현대 네트워크 구성:

                    [인터넷]
                        │
                   [라우터]
                        │
                   ┌────┴────┐
                   │  스위치  │ ← 허브 대신 스위치 사용
                   └────┬────┘
            ┌──────┬────┼────┬──────┐
            │      │    │    │      │
         [PC1]  [PC2] [PC3] [PC4]  [프린터]
```

### 허브가 사라진 이유

```
┌─────────────────────────────────────────────────────────────┐
│                 허브에서 스위치로 전환된 이유                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 성능 문제                                               │
│     • 모든 트래픽이 모든 포트로 전송 → 네트워크 혼잡         │
│     • 충돌 발생으로 실제 처리량 감소                         │
│                                                             │
│  2. 보안 문제                                               │
│     • 모든 데이터가 모든 포트로 전송                         │
│     • 스니핑(도청) 공격에 취약                              │
│                                                             │
│  3. 확장성 문제                                             │
│     • 장비가 늘어날수록 성능 급격히 저하                     │
│     • 대역폭 공유로 병목 현상                               │
│                                                             │
│  4. 스위치 가격 하락                                        │
│     • 스위치와 허브의 가격 차이가 거의 없어짐                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 핵심 정리

| 개념 | 설명 |
|------|------|
| 리피터 | 전기 신호를 정형하고 증폭하는 1계층 장비, 1:1 연결 |
| 허브 | 다중 포트 리피터, 받은 데이터를 모든 포트로 전송 |
| 더미 허브 | 목적지를 판단하지 못해 모든 포트로 전송하는 허브의 별칭 |
| 플러딩 | 수신한 데이터를 모든 포트로 전송하는 방식 |
| 콜리전 도메인 | 충돌이 발생할 수 있는 네트워크 영역 |
| CSMA/CD | 충돌 감지 및 재전송 프로토콜 |
| 반이중 통신 | 한 번에 한 방향만 통신 가능 (허브) |
| Auto MDI-X | 케이블 종류를 자동 판단하는 기능 |

### 리피터와 허브의 공통점/차이점

```
공통점:
┌─────────────────────────────────────────────────────────────┐
│  • 물리 계층 (1계층) 장비                                    │
│  • 전기 신호를 정형하고 증폭                                  │
│  • MAC 주소를 인식하지 못함                                  │
│  • 받은 데이터를 모든 연결 장비에 전송                        │
└─────────────────────────────────────────────────────────────┘

차이점:
┌─────────────────────────────────────────────────────────────┐
│              리피터                  허브                    │
├─────────────────────────────────────────────────────────────┤
│  • 1:1 연결 (포트 2개)      • 다중 연결 (포트 여러 개)       │
│  • 단순 중계기              • 여러 대 연결 가능              │
└─────────────────────────────────────────────────────────────┘
```

{{< callout type="info" >}}
**용어 정리**
- **리피터 (Repeater)**: 전기 신호를 증폭하고 정형하여 전송 거리를 연장하는 장비
- **허브 (Hub)**: 리피터 허브라고도 하며, 여러 포트를 가진 다중 연결 장비
- **더미 허브 (Dummy Hub)**: 목적지를 판단하지 못하고 모든 포트로 전송하는 허브
- **플러딩 (Flooding)**: 받은 데이터를 모든 포트로 전송하는 방식
- **콜리전 (Collision)**: 두 개 이상의 신호가 동시에 전송되어 충돌하는 현상
- **CSMA/CD**: 충돌을 감지하고 재전송하는 이더넷 프로토콜
- **Auto MDI-X**: 케이블 종류를 자동으로 판단하여 신호를 전환하는 기능
{{< /callout >}}
