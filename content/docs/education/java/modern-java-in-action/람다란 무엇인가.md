# 람다란 무엇인가?

## 개념 정의
람다 표현식(Lambda Expression)은 **메서드로 전달할 수 있는 익명 함수를 단순화한 것**이다. 이름은 없지만 파라미터 리스트, 바디, 반환 형식, 예외 리스트를 가질 수 있다.

> 람다(lambda)라는 용어는 람다 미적분학(lambda calculus)에서 유래했으며, 1930년대 알론조 처치가 개발한 함수 정의 형식이다.

## 람다의 4가지 특징

| 특징 | 설명 |
|------|------|
| **익명(Anonymous)** | 일반 메서드와 달리 이름이 없다 |
| **함수(Function)** | 특정 클래스에 종속되지 않으므로 함수라 부른다 (메서드가 아님) |
| **전달(Passing)** | 메서드 인수로 전달하거나 변수로 저장할 수 있다 |
| **간결성(Conciseness)** | 익명 클래스처럼 자질구레한 코드가 필요 없다 |

## 람다 이전 vs 이후 비교

```java
// 기존 코드 - 익명 클래스 사용
Comparator<Apple> byWeight = new Comparator<Apple>() {
    public int compare(Apple a1, Apple a2) {
        return a1.getWeight().compareTo(a2.getWeight());
    }
};

// 람다를 이용한 코드
Comparator<Apple> byWeight = (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());

// 더 간결하게 (형식 추론 활용)
Comparator<Apple> byWeight = (a1, a2) -> a1.getWeight().compareTo(a2.getWeight());
```

## 람다 표현식 구조

람다는 **파라미터**, **화살표**, **바디** 세 부분으로 구성된다.

```
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())
└───────┬──────────┘ └┬┘ └───────────────┬───────────────────┘
   파라미터 리스트    화살표           람다 바디
```

### 표현식 스타일 (Expression Style)
```java
(parameters) -> expression
```
- 표현식의 결과가 자동으로 반환된다
- return 문 불필요

### 블록 스타일 (Block Style)
```java
(parameters) -> { statements; }
```
- 여러 문장 포함 가능
- 값을 반환하려면 명시적으로 return 필요

## 다양한 람다 표현식 예제

```java
// 1. 파라미터 없음, 반환값 있음
() -> 42

// 2. 파라미터 하나 (괄호 생략 가능)
s -> s.length()
(String s) -> s.length()

// 3. 파라미터 두 개
(a, b) -> a + b
(int a, int b) -> a + b

// 4. 블록 바디 (여러 문장)
(String s) -> {
    System.out.println(s);
    return s.length();
}

// 5. void 반환
(Apple a) -> System.out.println(a.getWeight())
```

## 유효한 람다 vs 유효하지 않은 람다

```java
// 유효한 람다
() -> {}                              // void 반환
() -> "Hello"                         // String 반환
() -> { return "Hello"; }             // 블록 스타일, String 반환
(Integer i) -> return "Hello" + i;    // X - 잘못된 문법
(String s) -> { "Hello"; }            // X - 잘못된 문법 (return 필요)

// 올바른 수정
(Integer i) -> { return "Hello" + i; }
(String s) -> { return "Hello"; }
```

## 람다 활용 시나리오

### 1. 컬렉션 정렬
```java
List<String> names = Arrays.asList("Charlie", "Alice", "Bob");

// 정렬
names.sort((s1, s2) -> s1.compareTo(s2));

// 역순 정렬
names.sort((s1, s2) -> s2.compareTo(s1));
```

### 2. 스레드 실행
```java
// 기존 방식
Thread t1 = new Thread(new Runnable() {
    @Override
    public void run() {
        System.out.println("Hello from thread");
    }
});

// 람다 방식
Thread t2 = new Thread(() -> System.out.println("Hello from thread"));
```

### 3. 이벤트 핸들러
```java
// 기존 방식
button.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println("Button clicked!");
    }
});

// 람다 방식
button.addActionListener(e -> System.out.println("Button clicked!"));
```

### 4. 컬렉션 필터링
```java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);

// 짝수만 필터링
List<Integer> evens = numbers.stream()
    .filter(n -> n % 2 == 0)
    .collect(Collectors.toList());
// 결과: [2, 4, 6, 8, 10]
```

## 람다 vs 익명 클래스 차이점

| 구분 | 람다 | 익명 클래스 |
|------|------|-------------|
| 문법 | 간결함 | 장황함 |
| this 키워드 | 람다를 포함하는 클래스 참조 | 익명 클래스 자신 참조 |
| 컴파일 | invokedynamic 사용 | 별도 클래스 파일 생성 |
| 상태 | 상태 없음 (순수 함수) | 상태 가질 수 있음 |

```java
public class ThisExample {
    private String name = "Outer";

    public void test() {
        // 익명 클래스에서 this
        Runnable r1 = new Runnable() {
            private String name = "Inner";
            @Override
            public void run() {
                System.out.println(this.name); // "Inner" 출력
            }
        };

        // 람다에서 this
        Runnable r2 = () -> {
            System.out.println(this.name); // "Outer" 출력
        };
    }
}
```

## 핵심 정리

1. **람다 표현식**은 익명 함수의 간결한 표현 방식이다
2. `(파라미터) -> 표현식` 또는 `(파라미터) -> { 문장들; }` 형태로 작성한다
3. **함수형 인터페이스**가 필요한 곳에서만 람다를 사용할 수 있다
4. 람다는 코드를 더 읽기 쉽고 유연하게 만들어준다
5. 기존 익명 클래스를 대체하여 보일러플레이트 코드를 크게 줄일 수 있다
