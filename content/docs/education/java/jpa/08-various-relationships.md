---
title: "Chapter 08. ë‹¤ì–‘í•œ ì—°ê´€ê´€ê³„ ë§¤í•‘"
weight: 8
---

## ì—°ê´€ê´€ê³„ ë§¤í•‘ í•µì‹¬ 3ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì—°ê´€ê´€ê³„ ë§¤í•‘ ì‹œ ê³ ë ¤í•  3ê°€ì§€                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1ï¸âƒ£ ë‹¤ì¤‘ì„±              2ï¸âƒ£ ë°©í–¥              3ï¸âƒ£ ì—°ê´€ê´€ê³„ ì£¼ì¸ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ @ManyToOne  â”‚      â”‚  ë‹¨ë°©í–¥   â”‚       â”‚  ì™¸ë˜ í‚¤ë¥¼    â”‚  â”‚
â”‚  â”‚ @OneToMany  â”‚      â”‚  â†“       â”‚       â”‚  ê´€ë¦¬í•˜ëŠ” ìª½  â”‚  â”‚
â”‚  â”‚ @OneToOne   â”‚      â”‚  ì–‘ë°©í–¥   â”‚       â”‚  = ì£¼ì¸      â”‚  â”‚
â”‚  â”‚ @ManyToMany â”‚      â”‚  â†•       â”‚       â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ê°œë… ì •ë¦¬

| êµ¬ë¶„ | í…Œì´ë¸” | ê°ì²´ |
|------|--------|------|
| **ë°©í–¥** | ì™¸ë˜ í‚¤ í•˜ë‚˜ë¡œ ì–‘ë°©í–¥ ì¡°ì¸ ê°€ëŠ¥ | ì°¸ì¡° í•„ë“œê°€ ìˆì–´ì•¼ íƒìƒ‰ ê°€ëŠ¥ |
| **ì—°ê´€ê´€ê³„** | ì™¸ë˜ í‚¤ 1ê°œë¡œ ê´€ë¦¬ | ì–‘ë°©í–¥ ì‹œ ì°¸ì¡° 2ê°œ |
| **ì£¼ì¸** | í•´ë‹¹ ì—†ìŒ | ì™¸ë˜ í‚¤ ê´€ë¦¬ì ì§€ì • í•„ìš” |

**ì—°ê´€ê´€ê³„ ì£¼ì¸ ê·œì¹™**
- ì£¼ì¸: ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬ (INSERT, UPDATE)
- ì£¼ì¸ì´ ì•„ë‹Œ ìª½: `mappedBy` ì†ì„± ì‚¬ìš©, ì½ê¸°ë§Œ ê°€ëŠ¥

---

## 1. ë‹¤ëŒ€ì¼ [N:1]

> ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì—°ê´€ê´€ê³„. **ì™¸ë˜ í‚¤ëŠ” í•­ìƒ Nìª½ì— ì¡´ì¬**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë‹¤ëŒ€ì¼ ê´€ê³„ êµ¬ì¡°                        â”‚
â”‚                                                          â”‚
â”‚    [Member] N â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> 1 [Team]           â”‚
â”‚       â”‚                                  â”‚               â”‚
â”‚       â”‚ TEAM_ID (FK)                    â”‚               â”‚
â”‚       â–¼                                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   MEMBER    â”‚                  â”‚    TEAM     â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚ MEMBER_ID PKâ”‚                  â”‚ TEAM_ID  PK â”‚       â”‚
â”‚  â”‚ TEAM_ID  FK â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ NAME       â”‚       â”‚
â”‚  â”‚ USERNAME    â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.1 ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @ManyToOne
    @JoinColumn(name = "TEAM_ID")
    private Team team;

    // getter, setter
}

@Entity
public class Team {
    @Id @GeneratedValue
    @Column(name = "TEAM_ID")
    private Long id;

    private String name;

    // Teamì—ì„œëŠ” Memberë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠìŒ (ë‹¨ë°©í–¥)
}
```

### 1.2 ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @ManyToOne
    @JoinColumn(name = "TEAM_ID")
    private Team team;  // â­ ì—°ê´€ê´€ê³„ ì£¼ì¸

    // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ
    public void setTeam(Team team) {
        this.team = team;
        if (!team.getMembers().contains(this)) {
            team.getMembers().add(this);
        }
    }
}

@Entity
public class Team {
    @Id @GeneratedValue
    @Column(name = "TEAM_ID")
    private Long id;

    private String name;

    @OneToMany(mappedBy = "team")  // ì£¼ì¸ì´ ì•„ë‹˜ (ì½ê¸° ì „ìš©)
    private List<Member> members = new ArrayList<>();

    // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ
    public void addMember(Member member) {
        this.members.add(member);
        if (member.getTeam() != this) {
            member.setTeam(this);
        }
    }
}
```

**ì–‘ë°©í–¥ ë§¤í•‘ ê·œì¹™**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ í•µì‹¬ ê·œì¹™                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ìª½ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸                    â”‚
â”‚ âœ… ì–‘ìª½ ëª¨ë‘ ì„œë¡œ ì°¸ì¡°í•´ì•¼ í•¨                            â”‚
â”‚ âœ… ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œë¥¼ ì‘ì„±í•˜ì—¬ ë™ê¸°í™”                  â”‚
â”‚ âš ï¸  í¸ì˜ ë©”ì†Œë“œëŠ” ë¬´í•œë£¨í”„ ë°©ì§€ ë¡œì§ í•„ìˆ˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì¼ëŒ€ë‹¤ [1:N]

> ì¼(1)ìª½ì´ ì—°ê´€ê´€ê³„ ì£¼ì¸. **ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ë°©ì‹**

### 2.1 ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ (ë¹„ê¶Œì¥)                        â”‚
â”‚                                                          â”‚
â”‚    [Team]                          [Member]              â”‚
â”‚       â”‚                               â”‚                  â”‚
â”‚       â”‚ members â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                  â”‚
â”‚       â”‚           ê´€ë¦¬                â”‚                  â”‚
â”‚       â–¼                               â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚    TEAM     â”‚               â”‚   MEMBER    â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ TEAM_ID  PK â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ TEAM_ID  FK â”‚ â† ë‹¤ë¥¸   â”‚
â”‚  â”‚ NAME        â”‚               â”‚ MEMBER_ID PKâ”‚   í…Œì´ë¸”! â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
@Entity
public class Team {
    @Id @GeneratedValue
    @Column(name = "TEAM_ID")
    private Long id;

    private String name;

    @OneToMany
    @JoinColumn(name = "TEAM_ID")  // MEMBER í…Œì´ë¸”ì˜ FK
    private List<Member> members = new ArrayList<>();
}

@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;
    // Team ì°¸ì¡° ì—†ìŒ
}
```

**ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ì˜ ë¬¸ì œì **

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë‹¨ì                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ ì™¸ë˜ í‚¤ê°€ ë‹¤ë¥¸ í…Œì´ë¸”ì— ìˆìŒ                          â”‚
â”‚ âŒ INSERT í›„ UPDATE SQL ì¶”ê°€ ì‹¤í–‰ í•„ìš”                  â”‚
â”‚ âŒ ì„±ëŠ¥ ì €í•˜ ë° ê´€ë¦¬ ë³µì¡ì„± ì¦ê°€                         â”‚
â”‚                                                        â”‚
â”‚ ğŸ’¡ í•´ê²°ì±…: ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ì‚¬ìš© ê¶Œì¥!                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì €ì¥ ì‹œ ì‹¤í–‰ë˜ëŠ” SQL
INSERT INTO MEMBER (MEMBER_ID, USERNAME) VALUES (1, 'í™ê¸¸ë™');
UPDATE MEMBER SET TEAM_ID = 1 WHERE MEMBER_ID = 1;  // ì¶”ê°€ UPDATE!
```

### 2.2 ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥?

> ê³µì‹ì ìœ¼ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠìŒ. **ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ì‚¬ìš© ê¶Œì¥**

`@OneToMany`ëŠ” ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ ë  ìˆ˜ ì—†ìŒ (DB íŠ¹ì„±ìƒ Nìª½ì—ë§Œ FK ì¡´ì¬)

---

## 3. ì¼ëŒ€ì¼ [1:1]

> ì–‘ìª½ ëª¨ë‘ í•˜ë‚˜ì˜ ê´€ê³„ë§Œ ê°€ì§. **ì™¸ë˜ í‚¤ ìœ„ì¹˜ ì„ íƒ ê°€ëŠ¥**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì¼ëŒ€ì¼ ê´€ê³„ ì™¸ë˜ í‚¤ ìœ„ì¹˜                   â”‚
â”‚                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚     ì£¼ í…Œì´ë¸”     â”‚      â”‚    ëŒ€ìƒ í…Œì´ë¸”    â”‚        â”‚
â”‚   â”‚     (MEMBER)     â”‚      â”‚    (LOCKER)      â”‚        â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚   â”‚ MEMBER_ID   PK   â”‚      â”‚ LOCKER_ID   PK   â”‚        â”‚
â”‚   â”‚ LOCKER_ID   FK   â”‚â”€â”€â”€â”€â”€>â”‚ NAME             â”‚        â”‚
â”‚   â”‚ USERNAME         â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                          â”‚
â”‚   âœ… ì£¼ í…Œì´ë¸”ì— FK: ê°ì²´ì§€í–¥ì , ì£¼ í…Œì´ë¸”ë§Œ ì¡°íšŒí•´ë„ í™•ì¸  â”‚
â”‚   âœ… ëŒ€ìƒ í…Œì´ë¸”ì— FK: 1:Nìœ¼ë¡œ ë³€ê²½ ì‹œ í…Œì´ë¸” êµ¬ì¡° ìœ ì§€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1 ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ - ë‹¨ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @OneToOne
    @JoinColumn(name = "LOCKER_ID")
    private Locker locker;
}

@Entity
public class Locker {
    @Id @GeneratedValue
    @Column(name = "LOCKER_ID")
    private Long id;

    private String name;
}
```

### 3.2 ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ - ì–‘ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @OneToOne
    @JoinColumn(name = "LOCKER_ID")
    private Locker locker;  // â­ ì—°ê´€ê´€ê³„ ì£¼ì¸
}

@Entity
public class Locker {
    @Id @GeneratedValue
    @Column(name = "LOCKER_ID")
    private Long id;

    private String name;

    @OneToOne(mappedBy = "locker")  // ì£¼ì¸ ì•„ë‹˜
    private Member member;
}
```

### 3.3 ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ëŒ€ìƒ í…Œì´ë¸” ì™¸ë˜ í‚¤ ì œì•½ì‚¬í•­                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ ë‹¨ë°©í–¥: JPA ì§€ì› ì•ˆ í•¨                               â”‚
â”‚ âœ… ì–‘ë°©í–¥: ì§€ì›ë¨ (ëŒ€ìƒ í…Œì´ë¸” ìª½ì„ ì£¼ì¸ìœ¼ë¡œ)             â”‚
â”‚                                                        â”‚
â”‚ âš ï¸ í”„ë¡ì‹œ í•œê³„: ì™¸ë˜ í‚¤ë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•Šìœ¼ë©´            â”‚
â”‚    ì§€ì—° ë¡œë”© ì„¤ì •í•´ë„ ì¦‰ì‹œ ë¡œë”©ë¨!                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ - ì–‘ë°©í–¥
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @OneToOne(mappedBy = "member")  // ì£¼ì¸ ì•„ë‹˜
    private Locker locker;
}

@Entity
public class Locker {
    @Id @GeneratedValue
    @Column(name = "LOCKER_ID")
    private Long id;

    private String name;

    @OneToOne
    @JoinColumn(name = "MEMBER_ID")
    private Member member;  // â­ ì—°ê´€ê´€ê³„ ì£¼ì¸
}
```

### ì¼ëŒ€ì¼ ì „ëµ ë¹„êµ

| ì „ëµ | ì¥ì  | ë‹¨ì  |
|------|------|------|
| **ì£¼ í…Œì´ë¸” FK** | ì£¼ í…Œì´ë¸”ë§Œ ì¡°íšŒí•´ë„ ì—°ê´€ê´€ê³„ í™•ì¸ ê°€ëŠ¥ | ê°’ì´ ì—†ìœ¼ë©´ FKì— NULL |
| **ëŒ€ìƒ í…Œì´ë¸” FK** | 1:Nìœ¼ë¡œ ë³€ê²½ ì‹œ í…Œì´ë¸” êµ¬ì¡° ìœ ì§€ | í”„ë¡ì‹œ ì§€ì—° ë¡œë”© ë¶ˆê°€ |

---

## 4. ë‹¤ëŒ€ë‹¤ [N:N]

> ê´€ê³„í˜• DBëŠ” ë‹¤ëŒ€ë‹¤ í‘œí˜„ ë¶ˆê°€. **ì—°ê²° í…Œì´ë¸” í•„ìš”**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë‹¤ëŒ€ë‹¤ ê´€ê³„ êµ¬ì¡°                           â”‚
â”‚                                                              â”‚
â”‚  ê°ì²´                         í…Œì´ë¸”                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Member â”‚â”€â”€â”€>â”‚ Productâ”‚    â”‚ MEMBER â”‚â”€â”‚ M_P  â”‚â”€â”‚PRODUCT â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜<â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    N    :    N                         ì—°ê²° í…Œì´ë¸”            â”‚
â”‚                                                              â”‚
â”‚  ê°ì²´: ì»¬ë ‰ì…˜ìœ¼ë¡œ ë‹¤ëŒ€ë‹¤ í‘œí˜„ ê°€ëŠ¥                             â”‚
â”‚  í…Œì´ë¸”: ì—°ê²° í…Œì´ë¸”ë¡œ 1:N + N:1ë¡œ í’€ì–´ì•¼ í•¨                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.1 ë‹¤ëŒ€ë‹¤ ë‹¨ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @ManyToMany
    @JoinTable(
        name = "MEMBER_PRODUCT",              // ì—°ê²° í…Œì´ë¸”ëª…
        joinColumns = @JoinColumn(name = "MEMBER_ID"),  // í˜„ì¬ ì—”í‹°í‹°
        inverseJoinColumns = @JoinColumn(name = "PRODUCT_ID")  // ë°˜ëŒ€ ì—”í‹°í‹°
    )
    private List<Product> products = new ArrayList<>();
}

@Entity
public class Product {
    @Id @GeneratedValue
    @Column(name = "PRODUCT_ID")
    private Long id;

    private String name;
}
```

### 4.2 ë‹¤ëŒ€ë‹¤ ì–‘ë°©í–¥

```java
@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @ManyToMany
    @JoinTable(name = "MEMBER_PRODUCT",
        joinColumns = @JoinColumn(name = "MEMBER_ID"),
        inverseJoinColumns = @JoinColumn(name = "PRODUCT_ID"))
    private List<Product> products = new ArrayList<>();

    // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ
    public void addProduct(Product product) {
        products.add(product);
        product.getMembers().add(this);
    }
}

@Entity
public class Product {
    @Id @GeneratedValue
    @Column(name = "PRODUCT_ID")
    private Long id;

    private String name;

    @ManyToMany(mappedBy = "products")  // ì—­ë°©í–¥
    private List<Member> members = new ArrayList<>();
}
```

### 4.3 ë‹¤ëŒ€ë‹¤ì˜ í•œê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               @ManyToMany ì‹¤ë¬´ ì‚¬ìš© ë¶ˆê°€                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ ì—°ê²° í…Œì´ë¸”ì— ì¶”ê°€ ì»¬ëŸ¼ ë¶ˆê°€ (ìˆ˜ëŸ‰, ë‚ ì§œ ë“±)           â”‚
â”‚ âŒ ì—°ê²° í…Œì´ë¸”ì´ ìˆ¨ê²¨ì ¸ ì˜ˆìƒì¹˜ ëª»í•œ ì¿¼ë¦¬ ë°œìƒ             â”‚
â”‚ âŒ ì¤‘ê°„ í…Œì´ë¸”ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í™•ì¥ ë¶ˆê°€                  â”‚
â”‚                                                        â”‚
â”‚ ğŸ’¡ í•´ê²°ì±…: ì—°ê²° ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ 1:N + N:1ë¡œ í’€ê¸°!        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 ë‹¤ëŒ€ë‹¤ â†’ ì¼ëŒ€ë‹¤ + ë‹¤ëŒ€ì¼ (ì—°ê²° ì—”í‹°í‹°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì—°ê²° ì—”í‹°í‹°ë¥¼ í†µí•œ ë‹¤ëŒ€ë‹¤ í•´ì†Œ                    â”‚
â”‚                                                              â”‚
â”‚   [Member] 1 â”€â”€â”€â”€â”€< [Order] >â”€â”€â”€â”€â”€ 1 [Product]              â”‚
â”‚                       â”‚                                      â”‚
â”‚                       â”‚ ì£¼ë¬¸ìˆ˜ëŸ‰, ì£¼ë¬¸ì¼ì ë“±                  â”‚
â”‚                       â”‚ ì¶”ê°€ ì»¬ëŸ¼ ê°€ëŠ¥!                       â”‚
â”‚                       â–¼                                      â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚               â”‚    ORDER      â”‚                              â”‚
â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚               â”‚ ORDER_ID   PK â”‚ â† ëŒ€ë¦¬ í‚¤ ì‚¬ìš© ê¶Œì¥!          â”‚
â”‚               â”‚ MEMBER_ID  FK â”‚                              â”‚
â”‚               â”‚ PRODUCT_ID FK â”‚                              â”‚
â”‚               â”‚ ORDER_AMOUNT  â”‚ â† ì¶”ê°€ ì»¬ëŸ¼                   â”‚
â”‚               â”‚ ORDER_DATE    â”‚                              â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ë°©ë²• 1: ë³µí•© ê¸°ë³¸ í‚¤ ì‚¬ìš© (ì‹ë³„ ê´€ê³„)

```java
@Entity
public class Member {
    @Id @Column(name = "MEMBER_ID")
    private String id;

    private String username;

    @OneToMany(mappedBy = "member")
    private List<MemberProduct> memberProducts = new ArrayList<>();
}

@Entity
public class Product {
    @Id @Column(name = "PRODUCT_ID")
    private String id;

    private String name;
}

// ì—°ê²° ì—”í‹°í‹° - ë³µí•© í‚¤
@Entity
@IdClass(MemberProductId.class)
public class MemberProduct {

    @Id
    @ManyToOne
    @JoinColumn(name = "MEMBER_ID")
    private Member member;

    @Id
    @ManyToOne
    @JoinColumn(name = "PRODUCT_ID")
    private Product product;

    private int orderAmount;
    private LocalDateTime orderDate;
}

// ë³µí•© í‚¤ ì‹ë³„ì í´ë˜ìŠ¤
public class MemberProductId implements Serializable {
    private String member;   // MemberProduct.memberì™€ ë§¤í•‘
    private String product;  // MemberProduct.productì™€ ë§¤í•‘

    // ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜
    public MemberProductId() {}

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof MemberProductId)) return false;
        MemberProductId that = (MemberProductId) o;
        return Objects.equals(member, that.member)
            && Objects.equals(product, that.product);
    }

    @Override
    public int hashCode() {
        return Objects.hash(member, product);
    }
}
```

**ë³µí•© í‚¤ ì‹ë³„ì í´ë˜ìŠ¤ ìš”êµ¬ì‚¬í•­**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          @IdClass ë³µí•© í‚¤ ìš”êµ¬ì‚¬í•­                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Serializable êµ¬í˜„ í•„ìˆ˜                               â”‚
â”‚ âœ… equals(), hashCode() ì˜¤ë²„ë¼ì´ë“œ í•„ìˆ˜                  â”‚
â”‚ âœ… ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜                                     â”‚
â”‚ âœ… public í´ë˜ìŠ¤                                       â”‚
â”‚ âœ… í•„ë“œëª…ì´ ì—”í‹°í‹° í•„ë“œëª…ê³¼ ì¼ì¹˜í•´ì•¼ í•¨                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ë°©ë²• 2: ìƒˆë¡œìš´ ê¸°ë³¸ í‚¤ ì‚¬ìš© (ë¹„ì‹ë³„ ê´€ê³„) - ê¶Œì¥

```java
@Entity
@Table(name = "ORDERS")
public class Order {

    @Id @GeneratedValue
    @Column(name = "ORDER_ID")
    private Long id;  // â­ ëŒ€ë¦¬ í‚¤ ì‚¬ìš©

    @ManyToOne
    @JoinColumn(name = "MEMBER_ID")
    private Member member;

    @ManyToOne
    @JoinColumn(name = "PRODUCT_ID")
    private Product product;

    private int orderAmount;
    private LocalDateTime orderDate;
}

@Entity
public class Member {
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @OneToMany(mappedBy = "member")
    private List<Order> orders = new ArrayList<>();
}

@Entity
public class Product {
    @Id @GeneratedValue
    @Column(name = "PRODUCT_ID")
    private Long id;

    private String name;
}
```

**ì‚¬ìš© ì˜ˆì‹œ**

```java
// ì €ì¥
public void save(EntityManager em) {
    Member member = new Member();
    member.setUsername("í™ê¸¸ë™");
    em.persist(member);

    Product product = new Product();
    product.setName("ë…¸íŠ¸ë¶");
    em.persist(product);

    Order order = new Order();
    order.setMember(member);
    order.setProduct(product);
    order.setOrderAmount(2);
    order.setOrderDate(LocalDateTime.now());
    em.persist(order);
}

// ì¡°íšŒ
public void find(EntityManager em, Long orderId) {
    Order order = em.find(Order.class, orderId);

    Member member = order.getMember();
    Product product = order.getProduct();

    System.out.println("íšŒì›: " + member.getUsername());
    System.out.println("ìƒí’ˆ: " + product.getName());
    System.out.println("ìˆ˜ëŸ‰: " + order.getOrderAmount());
}
```

### ì‹ë³„ vs ë¹„ì‹ë³„ ê´€ê³„

| êµ¬ë¶„ | ì‹ë³„ ê´€ê³„ | ë¹„ì‹ë³„ ê´€ê³„ |
|------|----------|------------|
| **ì •ì˜** | ë¶€ëª¨ PKë¥¼ ìì‹ PK + FKë¡œ ì‚¬ìš© | ë¶€ëª¨ PKë¥¼ ìì‹ FKë¡œë§Œ ì‚¬ìš© |
| **ê¸°ë³¸ í‚¤** | ë³µí•© í‚¤ (ë¶€ëª¨ PK í¬í•¨) | ëŒ€ë¦¬ í‚¤ (ë³„ë„ ìƒì„±) |
| **ì¥ì ** | ë¶€ëª¨-ìì‹ ê´€ê³„ ëª…í™• | ë‹¨ìˆœ, ìœ ì—°, í™•ì¥ ìš©ì´ |
| **ë‹¨ì ** | ë³µì¡, ì‹ë³„ì í´ë˜ìŠ¤ í•„ìš” | ì¡°ì¸ ì‹œ í•œ ë²ˆ ë” ì°¸ì¡° |
| **ê¶Œì¥** | â­ ë¹„ì‹ë³„ ê´€ê³„ + ëŒ€ë¦¬ í‚¤ ê¶Œì¥! |

---

## 5. @EmbeddedId ë°©ì‹ (ëŒ€ì•ˆ)

> `@IdClass` ëŒ€ì‹  `@EmbeddedId` ì‚¬ìš© ê°€ëŠ¥

```java
// ë³µí•© í‚¤ë¥¼ @Embeddableë¡œ ì •ì˜
@Embeddable
public class MemberProductId implements Serializable {

    @Column(name = "MEMBER_ID")
    private String memberId;

    @Column(name = "PRODUCT_ID")
    private String productId;

    // ê¸°ë³¸ ìƒì„±ì, equals, hashCode
}

@Entity
public class MemberProduct {

    @EmbeddedId
    private MemberProductId id;

    @ManyToOne
    @MapsId("memberId")  // EmbeddedIdì˜ memberIdì™€ ë§¤í•‘
    @JoinColumn(name = "MEMBER_ID")
    private Member member;

    @ManyToOne
    @MapsId("productId")  // EmbeddedIdì˜ productIdì™€ ë§¤í•‘
    @JoinColumn(name = "PRODUCT_ID")
    private Product product;

    private int orderAmount;
}
```

**@IdClass vs @EmbeddedId**

| ë¹„êµ | @IdClass | @EmbeddedId |
|------|----------|-------------|
| **ì‹ë³„ì ì ‘ê·¼** | ì—”í‹°í‹° í•„ë“œë¡œ ì§ì ‘ ì ‘ê·¼ | `getId().getMemberId()` |
| **JPQL** | `SELECT m.member FROM` | `SELECT m.id.memberId FROM` |
| **ë³µì¡ë„** | ìƒëŒ€ì  ë‹¨ìˆœ | ê°ì²´ì§€í–¥ì  |

---

## ìš”ì•½

### ì—°ê´€ê´€ê³„ ì„ íƒ ê°€ì´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ì—°ê´€ê´€ê³„ ë§¤í•‘ ì˜ì‚¬ê²°ì • íŠ¸ë¦¬                  â”‚
â”‚                                                          â”‚
â”‚  1. ë‹¤ì¤‘ì„± ê²°ì •                                           â”‚
â”‚     â”œâ”€ 1:N or N:1 â†’ ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ (ê°€ì¥ ì¼ë°˜ì )            â”‚
â”‚     â”œâ”€ 1:1 â†’ ì£¼ í…Œì´ë¸”ì— FK + ì–‘ë°©í–¥                      â”‚
â”‚     â””â”€ N:N â†’ ì—°ê²° ì—”í‹°í‹°ë¡œ 1:N + N:1 ë¶„í•´                  â”‚
â”‚                                                          â”‚
â”‚  2. ë°©í–¥ ê²°ì •                                             â”‚
â”‚     â”œâ”€ ë‹¨ë°©í–¥ìœ¼ë¡œ ì‹œì‘                                    â”‚
â”‚     â””â”€ í•„ìš” ì‹œ ì–‘ë°©í–¥ ì¶”ê°€ (JPQL, ê°ì²´ ê·¸ë˜í”„)              â”‚
â”‚                                                          â”‚
â”‚  3. ì—°ê´€ê´€ê³„ ì£¼ì¸                                         â”‚
â”‚     â””â”€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ìª½ = ì£¼ì¸ (ë¬´ì¡°ê±´!)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤ë¬´ ê¶Œì¥ì‚¬í•­

| ê´€ê³„ | ê¶Œì¥ ë°©ì‹ | ë¹„ê¶Œì¥ |
|------|----------|-------|
| **N:1** | ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ | - |
| **1:N** | ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ìœ¼ë¡œ ëŒ€ì²´ | ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ âŒ |
| **1:1** | ì£¼ í…Œì´ë¸” FK + ì–‘ë°©í–¥ | ëŒ€ìƒ í…Œì´ë¸” FK ë‹¨ë°©í–¥ |
| **N:N** | ì—°ê²° ì—”í‹°í‹° + ë¹„ì‹ë³„ ê´€ê³„ | @ManyToMany âŒ |

### í•µì‹¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
âœ… ì—°ê´€ê´€ê³„ ì£¼ì¸ì€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ìª½
âœ… ì–‘ë°©í–¥ ì‹œ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ ì‘ì„±
âœ… ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ëŒ€ì‹  ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ì‚¬ìš©
âœ… @ManyToMany ëŒ€ì‹  ì—°ê²° ì—”í‹°í‹° ì‚¬ìš©
âœ… ë³µí•© í‚¤ë³´ë‹¤ ëŒ€ë¦¬ í‚¤(Long) + ë¹„ì‹ë³„ ê´€ê³„ ì„ í˜¸
âœ… mappedByëŠ” ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì—ë§Œ ì„¤ì •
```

### ì£¼ì˜ì‚¬í•­

```
âš ï¸ ì ˆëŒ€ ê¸ˆì§€
â”œâ”€ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ì‚¬ìš© (UPDATE ì¿¼ë¦¬ ì¶”ê°€ ë°œìƒ)
â”œâ”€ @ManyToMany ì‹¤ë¬´ ì‚¬ìš© (ì¶”ê°€ ì»¬ëŸ¼ ë¶ˆê°€)
â”œâ”€ ì–‘ë°©í–¥ í¸ì˜ ë©”ì†Œë“œì—ì„œ ë¬´í•œë£¨í”„
â””â”€ ì—°ê´€ê´€ê³„ ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì—ì„œ FK ìˆ˜ì • ì‹œë„

ğŸ’¡ ê¶Œì¥ì‚¬í•­
â”œâ”€ ë‹¨ë°©í–¥ìœ¼ë¡œ ì„¤ê³„ ì‹œì‘, í•„ìš” ì‹œ ì–‘ë°©í–¥ ì¶”ê°€
â”œâ”€ ì—°ê²° ì—”í‹°í‹°ëŠ” ë¹„ì‹ë³„ ê´€ê³„ + ëŒ€ë¦¬ í‚¤ ì¡°í•©
â”œâ”€ toString(), JSON ì§ë ¬í™” ì‹œ ì–‘ë°©í–¥ ìˆœí™˜ ì°¸ì¡° ì£¼ì˜
â””â”€ cascade, orphanRemovalì€ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©
```
